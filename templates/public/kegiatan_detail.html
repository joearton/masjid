{% extends "base/public.html" %}
{% load i18n hijri_tags %}

{% block title %}{{ object.judul }} â€” {{ SITE_NAME }}{% endblock %}

{% block content %}
<div class="page-header">
    <div class="container">
        <h1 class="page-header-title">{{ object.judul }}</h1>
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb mb-0">
                <li class="breadcrumb-item"><a href="{% url 'core:home' %}">{% trans "Beranda" %}</a></li>
                <li class="breadcrumb-item"><a href="{% url 'kegiatan:list' %}">{% trans "Kegiatan" %}</a></li>
                <li class="breadcrumb-item active">{{ object.judul|truncatechars:40 }}</li>
            </ol>
        </nav>
    </div>
</div>

<div class="container py-5">
    <div class="row g-4">
        <div class="col-lg-8">
            <div class="card border-0 shadow-sm">
                {% if object.gambar %}
                <img src="{{ object.gambar.url }}" class="card-img-top" alt="{{ object.judul }}" style="max-height:400px;object-fit:cover">
                {% endif %}
                <div class="card-body p-4 p-lg-5">
                    <div class="d-flex justify-content-between align-items-start mb-3">
                        <h1 class="h3 fw-bold">{{ object.judul }}</h1>
                        <span class="badge
                            {% if object.status == 'upcoming' %}bg-success
                            {% elif object.status == 'ongoing' %}bg-warning text-dark
                            {% elif object.status == 'done' %}bg-secondary
                            {% else %}bg-danger{% endif %}">
                            {{ object.get_status_display }}
                        </span>
                    </div>
                    <div class="article-content">
                        {{ object.deskripsi|linebreaks }}
                    </div>
                </div>
            </div>
        </div>

        <div class="col-lg-4">
            <div class="card border-0 shadow-sm">
                <div class="card-header bg-white fw-bold border-bottom">{% trans "Detail Kegiatan" %}</div>
                <div class="list-group list-group-flush">
                    <div class="list-group-item py-3">
                        <div class="text-muted small mb-1">{% trans "Tanggal" %}</div>
                        <div class="fw-semibold"><i class="bi bi-calendar3 me-2 text-primary"></i>{{ object.tanggal|date:"l, d F Y" }}</div>
                        <div class="text-muted small mt-1"><i class="bi bi-moon-stars me-1"></i>{{ object.tanggal|hijri_full }}</div>
                    </div>
                    <div class="list-group-item py-3">
                        <div class="text-muted small mb-1">{% trans "Waktu" %}</div>
                        <div class="fw-semibold">
                            <i class="bi bi-clock me-2 text-primary"></i>
                            {{ object.waktu_mulai|time:"H:i" }}
                            {% if object.waktu_selesai %} - {{ object.waktu_selesai|time:"H:i" }}{% endif %}
                        </div>
                    </div>
                    <div class="list-group-item py-3">
                        <div class="text-muted small mb-1">{% trans "Tempat" %}</div>
                        <div class="fw-semibold"><i class="bi bi-geo-alt me-2 text-primary"></i>{{ object.tempat }}</div>
                    </div>
                    {% if object.narasumber %}
                    <div class="list-group-item py-3">
                        <div class="text-muted small mb-1">{% trans "Narasumber" %}</div>
                        <div class="fw-semibold"><i class="bi bi-person me-2 text-primary"></i>{{ object.narasumber }}</div>
                    </div>
                    {% endif %}
                </div>
            </div>
            <div class="mt-3">
                <a href="{% url 'kegiatan:list' %}" class="btn btn-outline-secondary w-100">
                    <i class="bi bi-arrow-left me-2"></i>{% trans "Kembali ke Daftar Kegiatan" %}
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}
