{% load i18n %}
<footer class="footer mt-auto py-5">
    <div class="container">
        <div class="row g-4">
            <div class="col-lg-4">
                <div class="d-flex align-items-center gap-2 mb-3">
                    {% if site_setting and site_setting.logo %}
                        <img src="{{ site_setting.logo.url }}" alt="{{ SITE_NAME }}" style="height:32px;width:auto;">
                    {% else %}
                        <i class="bi bi-building fs-3 text-warning"></i>
                    {% endif %}
                    <div>
                        <h5 class="mb-0 fw-bold">{{ SITE_NAME }}</h5>
                        <small class="text-muted">{{ SITE_TAGLINE }}</small>
                    </div>
                </div>
                <p class="text-muted small">{{ profil_masjid.tagline|default:profil_masjid.misi|default:"Masjid yang makmur, sejahtera, dan menjadi pusat kegiatan umat Islam."|truncatewords:15 }}</p>

                {% if site_setting and site_setting.footer_show_social and site_setting.social_links %}
                <div class="d-flex gap-2 mt-3">
                    {% for link in site_setting.social_links %}
                    <a href="{{ link.url }}" target="_blank" rel="noopener noreferrer"
                       class="btn btn-sm btn-outline-light rounded-circle d-flex align-items-center justify-content-center"
                       style="width:36px;height:36px;" title="{{ link.name }}">
                        <i class="bi {{ link.icon }}"></i>
                    </a>
                    {% endfor %}
                </div>
                {% endif %}
            </div>
            <div class="col-lg-2 col-6">
                <h6 class="fw-bold mb-3">{% trans "Menu" %}</h6>
                <ul class="list-unstyled footer-links">
                    <li><a href="{% url 'core:home' %}">{% trans "Beranda" %}</a></li>
                    <li><a href="{% url 'profil:index' %}">{% trans "Profil" %}</a></li>
                    <li><a href="{% url 'sholat:index' %}">{% trans "Jadwal Sholat" %}</a></li>
                </ul>
            </div>
            <div class="col-lg-2 col-6">
                <h6 class="fw-bold mb-3">{% trans "Informasi" %}</h6>
                <ul class="list-unstyled footer-links">
                    <li><a href="{% url 'kegiatan:list' %}">{% trans "Kegiatan" %}</a></li>
                    <li><a href="{% url 'berita:list' %}">{% trans "Berita" %}</a></li>
                    {% if not site_setting or site_setting.tampilkan_keuangan %}
                    <li><a href="{% url 'keuangan:index' %}">{% trans "Keuangan" %}</a></li>
                    {% endif %}
                </ul>
            </div>
            <div class="col-lg-4">
                <h6 class="fw-bold mb-3">{% trans "Waktu Sholat Hari Ini" %}</h6>
                {% if jadwal_hari_ini %}
                <div class="row g-2 text-center">
                    <div class="col-4"><div class="sholat-badge"><small>{% trans "Subuh" %}</small><div class="fw-bold">{{ jadwal_hari_ini.subuh|time:"H:i" }}</div></div></div>
                    <div class="col-4"><div class="sholat-badge"><small>{% trans "Dzuhur" %}</small><div class="fw-bold">{{ jadwal_hari_ini.dzuhur|time:"H:i" }}</div></div></div>
                    <div class="col-4"><div class="sholat-badge"><small>{% trans "Ashar" %}</small><div class="fw-bold">{{ jadwal_hari_ini.ashar|time:"H:i" }}</div></div></div>
                    <div class="col-4"><div class="sholat-badge"><small>{% trans "Maghrib" %}</small><div class="fw-bold">{{ jadwal_hari_ini.maghrib|time:"H:i" }}</div></div></div>
                    <div class="col-4"><div class="sholat-badge"><small>{% trans "Isya" %}</small><div class="fw-bold">{{ jadwal_hari_ini.isya|time:"H:i" }}</div></div></div>
                </div>
                {% else %}
                <p class="text-muted small">{% trans "Jadwal belum tersedia." %}</p>
                {% endif %}
            </div>
        </div>
        <hr class="my-4">
        <div class="d-flex flex-wrap justify-content-between align-items-center gap-2">
            <div class="text-muted small">
                <span class="me-2">
                {% if site_setting and site_setting.footer_text %}
                    {{ site_setting.footer_text }}
                {% else %}
                    &copy; {% now "Y" %} {{ SITE_NAME }}. {% trans "Hak cipta dilindungi." %}
                {% endif %}
                </span>
                <span class="d-block d-md-inline mt-1 mt-md-0">
                    Made with <i class="bi bi-heart-fill text-danger mx-1" style="font-size: 0.8rem;"></i> by <a href="https://www.artonlabs.com" target="_blank" class="text-decoration-none fw-bold text-reset">ArtonLabs</a>
                </span>
            </div>
            <div class="d-flex gap-3">
                <form action="{% url 'set_language' %}" method="post" class="d-flex align-items-center gap-2">
                    {% csrf_token %}
                    <input name="next" type="hidden" value="{{ request.path }}">
                    <select name="language" class="form-select form-select-sm" onchange="this.form.submit()" style="width:auto">
                        <option value="id" {% if LANGUAGE_CODE == 'id' %}selected{% endif %}>ðŸ‡®ðŸ‡© Indonesia</option>
                        <option value="en" {% if LANGUAGE_CODE == 'en' %}selected{% endif %}>ðŸ‡¬ðŸ‡§ English</option>
                    </select>
                </form>
            </div>
        </div>
    </div>
</footer>
